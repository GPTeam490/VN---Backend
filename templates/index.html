<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="vacationnow.png" />
    <title>VacationNow</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark lavender palosans">
      <a class="navbar-brand" href="index.html">VACATION NOW</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="ourteam.html">Our Team</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Features</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container">
      <div class="row justify-content-center">
        <div class="col-6 col-md-4 text-right">
          <img
            class="img-fluid logoVac"
            style="margin-left: 55%;"
            src="https://cdn.glitch.global/77105255-0124-41fb-ba07-bef775dd6c97/vac.png?v=1724964469624"
            alt="Vacation Logo"
          />
        </div>
        <div class="col-6 col-md-4 text-left">
          <img
            class="img-fluid logoNow"
            style="margin-left: -55%;"
            src="https://cdn.glitch.global/77105255-0124-41fb-ba07-bef775dd6c97/now.png?v=1724964493114"
            alt="Now Logo"
          />
        </div>
      </div>
    </div>

    <div class="container mt-5" style="position: relative; top: -30px">
      <h3 class="text-center">A Gemini-Powered Travel Planning Platform</h3>
      <div class="text-center">
        <button id="showFormBtn" class="btn popout">
          <img
            alt="plan now button"
            style="width: 150px; height: auto"
            src="https://cdn.glitch.global/294282c5-9e0f-4966-975b-532832b447ad/plannow3.png?v=1725058891808"
          />
        </button>
      </div>

      <form
        id="recommendationForm"
        action="/generate"
        method="POST"
        class="my-4"
        style="display: none"
      >
        <div class="form-group">
          <label for="city">City:</label>
          <input
            type="text"
            class="form-control"
            id="city"
            name="city"
            placeholder="e.g., San Francisco, Folsom"
            required
          />
        </div>
        <div class="form-group">
          <label for="month">Month:</label>
          <input
            type="text"
            class="form-control"
            id="month"
            name="month"
            placeholder="e.g., January, February"
            required
          />
        </div>
        <div class="form-group">
          <label for="duration">Duration:</label>
          <input
            type="text"
            class="form-control"
            id="duration"
            name="duration"
            placeholder="e.g., 3 days"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary btn-block">Get Recommendations</button>
      </form>

      <script>
        document
          .getElementById("showFormBtn")
          .addEventListener("click", function () {
            document.getElementById("recommendationForm").style.display = "block";
            this.style.display = "none";
          });
      </script>

      {% if itinerary %}
      <h2 class="mt-5">Itinerary for {{ city }} during {{ month }} for {{ duration }} days:</h2>
      <div class="mt-3">
        <p>{{ itinerary }}</p>
      </div>
      {% elif recommendations %}
      <h2 class="mt-5">
        Recommendations for {{ city }} in {{ month }} ({{ duration }})
      </h2>
      <table class="table table-striped mt-3">
        <thead>
          <tr>
            <th>Activity</th>
            <th>Best Season</th>
            <th>Time Needed</th>
          </tr>
        </thead>
        <tbody>
          {% for rec in recommendations %}
          <tr>
            <td>{{ rec.activity }}</td>
            <td>{{ rec.best_season }}</td>
            <td>{{ rec.time_needed }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% elif error %}
      <div class="alert alert-danger mt-4" role="alert">{{ error }}</div>
      {% endif %}
    </div>

    <!-- Moving background planes -->
    <div class="moving-bg">
      <ul class="box-area">
        <li>
          <img
            alt="moving plane"
            class="img-fluid planeFly"
            src="https://cdn.glitch.global/294282c5-9e0f-4966-975b-532832b447ad/planetrail.png?v=1725055221577"
          />
        </li>
        <li>
          <img
            alt="moving plane"
            class="img-fluid planeFly"
            src="https://cdn.glitch.global/294282c5-9e0f-4966-975b-532832b447ad/planetrail.png?v=1725055221577"
          />
        </li>
        <li>
          <img
            alt="moving plane"
            class="img-fluid planeFly"
            src="https://cdn.glitch.global/294282c5-9e0f-4966-975b-532832b447ad/planetrail.png?v=1725055221577"
          />
        </li>
      </ul>
    </div>

    <footer></footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
